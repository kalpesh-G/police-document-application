<!DOCTYPE html>
<html lang="gu">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gujarat Police - Integrated Document System</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Gujarati:wght@400;600;700&display=swap" rel="stylesheet">
<style>:root {
    --primary-blue: #1a3c6e;
    --gov-orange: #ff9933;
    --bg-light: #f4f7f6;
    --border-color: #d1d5db;
    --text-dark: #333;
    --highlight: #eef6ff;
}

body {
    font-family: 'Noto Sans Gujarati', sans-serif;
    background-color: var(--bg-light);
    color: var(--text-dark);
    margin: 0;
    padding: 0;
}

.main-header {
    background: var(--primary-blue);
    color: white;
    padding: 1rem 2rem;
    display: flex;
    justify-content: space-between;
    align-items: center;
    position: sticky;
    top: 0;
    z-index: 100;
    box-shadow: 0 2px 10px rgba(0,0,0,0.2);
}

.logo-area h1 { margin: 0; font-size: 1.4rem; }
.status-bar { background: rgba(0,0,0,0.3); padding: 5px 12px; border-radius: 4px; font-family: monospace; }

.layout-container {
    display: grid;
    grid-template-columns: 1.5fr 1fr;
    gap: 2rem;
    padding: 2rem;
    max-width: 1600px;
    margin: 0 auto;
}

/* Form Styles */
fieldset {
    background: white;
    border: 1px solid var(--border-color);
    border-radius: 8px;
    padding: 1.5rem;
    margin-bottom: 2rem;
}

legend {
    background: var(--primary-blue);
    color: white;
    padding: 4px 12px;
    border-radius: 4px;
    font-weight: bold;
}

h4 { color: var(--primary-blue); margin: 1.5rem 0 0.5rem 0; border-bottom: 2px solid #eee; padding-bottom: 5px; }

.input-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
    gap: 1rem;
}

.form-group { display: flex; flex-direction: column; }
.form-group.full-width { grid-column: 1 / -1; }

.highlight-box {
    background: var(--highlight);
    padding: 1rem;
    border: 1px dashed var(--primary-blue);
    border-radius: 6px;
}

label { font-size: 0.85rem; font-weight: 600; color: #555; margin-bottom: 4px; }
input, select, textarea {
    padding: 8px;
    border: 1px solid #ccc;
    border-radius: 4px;
    font-size: 1rem;
    width: 100%;
}
input:focus, select:focus { border-color: var(--primary-blue); outline: none; }

/* Buttons */
.action-area { display: flex; gap: 1rem; margin-bottom: 3rem; }
.btn-primary {
    background: #138808; color: white; padding: 1rem; border: none; 
    border-radius: 6px; font-weight: bold; font-size: 1.1rem; flex: 2; cursor: pointer;
}
.btn-secondary { background: #666; color: white; padding: 1rem; border: none; border-radius: 6px; flex: 1; cursor: pointer; }

/* Document Grid */
.doc-templates { margin-top: 2rem; border-top: 3px solid var(--primary-blue); padding-top: 1rem; }
.doc-header { margin-bottom: 1.5rem; }
.doc-hint { color: #666; font-style: italic; font-size: 0.9rem; }

.card-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(180px, 1fr)); gap: 1rem; }
.doc-card {
    background: white; border: 1px solid #ddd; padding: 1rem; border-radius: 8px;
    text-align: center; cursor: pointer; transition: 0.2s; text-decoration: none; color: #333;
    display: flex; flex-direction: column; align-items: center; justify-content: center;
    height: 120px;
}
.doc-card:hover { transform: translateY(-3px); border-color: var(--primary-blue); box-shadow: 0 5px 15px rgba(0,0,0,0.1); }
.doc-card .icon { font-size: 2rem; margin-bottom: 5px; }
.doc-card b { display: block; margin-bottom: 3px; }
.doc-card small { color: #777; font-size: 0.75rem; }

/* Preview Panel */
.preview-panel { position: sticky; top: 5.5rem; height: fit-content; }
.paper {
    background: white; padding: 2rem; border: 1px solid #ccc; min-height: 500px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.1);
}
.paper-header { text-align: center; border-bottom: 2px solid #333; padding-bottom: 10px; margin-bottom: 1rem; }
.emblem { height: 40px; }
.preview-table { width: 100%; border-collapse: collapse; margin-top: 1rem; }
.preview-table td { padding: 8px 4px; border-bottom: 1px dotted #ccc; }
.preview-table .lbl { font-weight: bold; color: #444; width: 35%; }
.section-title { background: #eee; font-weight: bold; text-align: center; padding: 5px; color: var(--primary-blue); }
.paper-footer { margin-top: 2rem; text-align: center; font-size: 0.8rem; color: #888; border-top: 1px solid #eee; padding-top: 1rem; }

@media (max-width: 900px) {
    .layout-container { grid-template-columns: 1fr; }
    .preview-panel { display: none; } /* Hide preview on mobile to save space */
}</style>
</head>
<body>

    <header class="main-header">
        <div class="logo-area">
            <h1>ркЧрлБркЬрк░рк╛ркд рккрлЛрк▓рлАрк╕ (Gujarat Police)</h1>
            <p>рккрлВркЫрккрк░ркЫ ркЕркирлЗ ркжрк╕рлНркдрк╛рк╡рлЗркЬ рк╡рлНркпрк╡рк╕рлНркерк╛рккрки рккрлНрк░ркгрк╛рк▓рлА</p>
        </div>
        <div class="status-bar">
            <span id="saveStatus">Status: Ready</span>
        </div>
    </header>

    <main class="layout-container">
        
        <section class="form-panel">
            <form id="policeForm">
                
                <fieldset>
                    <legend>A. ркЖрк░рлЛрккрлАркирлА ркорк╛рк╣рк┐ркдрлА (Accused Details)</legend>
                    <div class="input-grid">
                        <div class="form-group"><label>ркирк╛рко</label><input type="text" name="acc_name" data-bind="prev_name"></div>
                        <div class="form-group"><label>рккрк┐ркдрк╛ркирлБркВ ркирк╛рко</label><input type="text" name="acc_father" data-bind="prev_father"></div>
                        <div class="form-group"><label>ркЕркЯркХ</label><input type="text" name="acc_surname" data-bind="prev_surname"></div>
                        <div class="form-group"><label>ркЙрккркирк╛рко / ркУрк│ркЦрлАркдрлБркВ ркирк╛рко</label><input type="text" name="acc_alias" data-bind="prev_alias"></div>
                        <div class="form-group"><label>рк▓рк┐ркВркЧ</label>
                            <select name="acc_gender" data-bind="prev_gender">
                                <option value="">рккрк╕ркВркж ркХрк░рлЛ</option>
                                <option value="рккрлБрк░рлБрк╖">рккрлБрк░рлБрк╖</option>
                                <option value="рк╕рлНркдрлНрк░рлА">рк╕рлНркдрлНрк░рлА</option>
                                <option value="ркЕркирлНркп">ркЕркирлНркп</option>
                            </select>
                        </div>
                        <div class="form-group"><label>ркЙркВркорк░</label><input type="number" name="acc_age" data-bind="prev_age"></div>
                        <div class="form-group"><label>ркЬркирлНрко ркдрк╛рк░рлАркЦ</label><input type="date" name="acc_dob" data-bind="prev_dob"></div>
                        <div class="form-group"><label>ркзрк░рлНрко</label><input type="text" name="acc_religion" data-bind="prev_religion"></div>
                        <div class="form-group"><label>ркЬрк╛ркдрк┐ / рк╕ркорк╛ркЬ</label><input type="text" name="acc_caste" data-bind="prev_caste"></div>
                        <div class="form-group"><label>рккрлЗркЯрк╛ркЬрк╛ркдрк┐</label><input type="text" name="acc_subcaste" data-bind="prev_subcaste"></div>
                        <div class="form-group"><label>рк░рк╛рк╖рлНркЯрлНрк░рлАркпркдрк╛</label><input type="text" name="acc_nationality" value="ркнрк╛рк░ркдрлАркп" data-bind="prev_nationality"></div>
                        <div class="form-group"><label>рк╡рлИрк╡рк╛рк╣рк┐ркХ рк╕рлНркерк┐ркдрк┐</label>
                            <select name="acc_marital" data-bind="prev_marital">
                                <option value="рккрк░рк┐ркгрлАркд">рккрк░рк┐ркгрлАркд</option>
                                <option value="ркЕрккрк░рк┐ркгрлАркд">ркЕрккрк░рк┐ркгрлАркд</option>
                            </select>
                        </div>
                    </div>
                </fieldset>

                <fieldset>
                    <legend>рк╡рлНркпрк╡рк╕рк╛ркп (Occupation)</legend>
                    <div class="input-grid">
                        <div class="form-group"><label>ркзркВркзрлЛ / рк╡рлНркпрк╡рк╕рк╛ркп</label><input type="text" name="occ_type" data-bind="prev_occ_type"></div>
                        <div class="form-group"><label>рк╡рлНркпрк╡рк╕рк╛ркпркирлБркВ рк╕рлНркерк│</label><input type="text" name="occ_place" data-bind="prev_occ_place"></div>
                        <div class="form-group"><label>ркЖрк╡ркХркирлЛ ркЕркВркжрк╛ркЬ</label><input type="text" name="occ_income" data-bind="prev_occ_income"></div>
                    </div>
                </fieldset>

                <fieldset>
                    <legend>рк░рк╣рлЗркарк╛ркг - ркХрк╛ркпркорлА (Permanent Address)</legend>
                    <div class="input-grid">
                        <div class="form-group full-width"><label>ркоркХрк╛рки ркиркВ. / ркирк╛рко</label><input type="text" name="perm_house" data-bind="prev_perm_house"></div>
                        <div class="form-group full-width"><label>рклрк│рк┐ркпрк╛ / рк╡рк┐рк╕рлНркдрк╛рк░</label><input type="text" name="perm_area" data-bind="prev_perm_area"></div>
                        <div class="form-group"><label>ркЧрк╛рко / ркорлЛркЬрлЗ</label><input type="text" name="perm_village" data-bind="prev_perm_village"></div>
                        
                        <div class="form-group">
                            <label>ркЬрлАрк▓рлНрк▓рлЛ (District)</label>
                            <input list="dist_list_1" name="perm_district" class="district-search" data-target-taluka="perm_taluka_select" data-bind="prev_perm_dist">
                            <datalist id="dist_list_1"></datalist>
                        </div>
                        <div class="form-group">
                            <label>ркдрк╛рк▓рлБркХрлЛ (Taluka)</label>
                            <select id="perm_taluka_select" name="perm_taluka" data-bind="prev_perm_taluka"><option value="">ркЬрлАрк▓рлНрк▓рлЛ рккрк╕ркВркж ркХрк░рлЛ</option></select>
                        </div>

                        <div class="form-group"><label>рк░рк╛ркЬрлНркп</label><input type="text" name="perm_state" value="ркЧрлБркЬрк░рк╛ркд" data-bind="prev_perm_state"></div>
                        <div class="form-group"><label>рккрк┐ркиркХрлЛркб</label><input type="text" name="perm_pin" data-bind="prev_perm_pin"></div>
                    </div>
                </fieldset>

                <fieldset>
                    <legend>рк░рк╣рлЗркарк╛ркг - рк╣рк╛рк▓ркирлБркВ (Current Address)</legend>
                    <div class="input-grid">
                        <div class="form-group full-width"><label>рк╣рк╛рк▓ркирлБркВ рк╕рк░ркирк╛ркорлБркВ</label><input type="text" name="curr_address" data-bind="prev_curr_address"></div>
                        <div class="form-group"><label>ркЧрк╛рко / рк╢рк╣рлЗрк░</label><input type="text" name="curr_city" data-bind="prev_curr_city"></div>
                        
                        <div class="form-group">
                            <label>ркЬрлАрк▓рлНрк▓рлЛ (District)</label>
                            <input list="dist_list_2" name="curr_district" class="district-search" data-target-taluka="curr_taluka_select" data-bind="prev_curr_dist">
                            <datalist id="dist_list_2"></datalist>
                        </div>
                        <div class="form-group">
                            <label>ркдрк╛рк▓рлБркХрлЛ (Taluka)</label>
                            <select id="curr_taluka_select" name="curr_taluka" data-bind="prev_curr_taluka"><option value="">ркЬрлАрк▓рлНрк▓рлЛ рккрк╕ркВркж ркХрк░рлЛ</option></select>
                        </div>

                        <div class="form-group"><label>рк░рк╛ркЬрлНркп</label><input type="text" name="curr_state" value="ркЧрлБркЬрк░рк╛ркд" data-bind="prev_curr_state"></div>
                        <div class="form-group"><label>рккрк┐ркиркХрлЛркб</label><input type="text" name="curr_pin" data-bind="prev_curr_pin"></div>
                    </div>
                </fieldset>

                <fieldset>
                    <legend>рк╕ркВрккрк░рлНркХ ркЕркирлЗ ркУрк│ркЦ (Contact & ID)</legend>
                    <div class="input-grid">
                        <div class="form-group"><label>ркорлЛркмрк╛ркЗрк▓ ркиркВркмрк░</label><input type="text" name="mobile_1" data-bind="prev_mobile_1"></div>
                        <div class="form-group"><label>рк╡рлИркХрк▓рлНрккрк┐ркХ ркорлЛркмрк╛ркЗрк▓</label><input type="text" name="mobile_2" data-bind="prev_mobile_2"></div>
                        <div class="form-group"><label>ркУрк│ркЦ рккркдрлНрк░ рккрлНрк░ркХрк╛рк░</label>
                            <select name="id_type" data-bind="prev_id_type">
                                <option value="Aadhar">ркЖркзрк╛рк░ ркХрк╛рк░рлНркб</option>
                                <option value="Election">ркЪрлВркВркЯркгрлА ркХрк╛рк░рлНркб</option>
                                <option value="License">ркбрлНрк░рк╛ркЗрк╡рк┐ркВркЧ рк▓рк╛ркпрк╕ркирлНрк╕</option>
                            </select>
                        </div>
                        <div class="form-group"><label>ркУрк│ркЦ рккркдрлНрк░ ркиркВркмрк░</label><input type="text" name="id_number" data-bind="prev_id_number"></div>
                    </div>
                </fieldset>

                <fieldset>
                    <legend>рк╢рк╛рк░рлАрк░рк┐ркХ рк╡рк░рлНркгрки (Physical Description)</legend>
                    <div class="input-grid">
                        <div class="form-group"><label>ркЙркВркЪрк╛ркИ (рк╕рлЗ.ркорлА.)</label><input type="number" name="phy_height" data-bind="prev_phy_height"></div>
                        <div class="form-group"><label>рк╢рк░рлАрк░ркирлА ркмрк╛ркВркзркгрлА</label><input type="text" name="phy_build" data-bind="prev_phy_build"></div>
                        <div class="form-group"><label>ркдрлНрк╡ркЪрк╛ркирлЛ рк░ркВркЧ</label><input type="text" name="phy_complexion" data-bind="prev_phy_comp"></div>
                        <div class="form-group"><label>ркЖркВркЦрлЛркирлЛ рк░ркВркЧ</label><input type="text" name="phy_eyes" data-bind="prev_phy_eyes"></div>
                        <div class="form-group"><label>рк╡рк╛рк│ркирлЛ рк░ркВркЧ</label><input type="text" name="phy_hair" data-bind="prev_phy_hair"></div>
                        <div class="form-group"><label>ркжрк╛ркврлА / ркорлВркЫ</label><input type="text" name="phy_facial_hair" data-bind="prev_phy_facial"></div>
                    </div>
                </fieldset>

                <fieldset>
                    <legend>рк╢рк░рлАрк░ рккрк░ркирлА ркирк┐рк╢рк╛ркирлАркУ (Marks)</legend>
                    <div class="input-grid">
                        <div class="form-group full-width"><label>ркирк┐рк╢рк╛рки рлз</label><input type="text" name="mark_1" data-bind="prev_mark_1"></div>
                        <div class="form-group full-width"><label>ркирк┐рк╢рк╛рки рли</label><input type="text" name="mark_2" data-bind="prev_mark_2"></div>
                        <div class="form-group full-width"><label>ркЬрлБркирк╛ ркШрк╛ / ркжрк╛ркЭ / ркЯрк╛ркВркХрк╛</label><input type="text" name="old_wounds" data-bind="prev_old_wounds"></div>
                        <div class="form-group full-width"><label>ркЕркирлНркп ркЦрк╛рк╕ ркУрк│ркЦ</label><input type="text" name="other_id_marks" data-bind="prev_other_marks"></div>
                    </div>
                </fieldset>

                <fieldset>
                    <legend>рк╕ркЧрк╛-рк╕ркмркВркзрлАркирлА ркЬрк╛ркг (Relative Intimation)</legend>
                    <div class="input-grid">
                        <div class="form-group"><label>рк╕ркЧрк╛ркирлБркВ ркирк╛рко</label><input type="text" name="rel_name" data-bind="prev_rel_name"></div>
                        <div class="form-group"><label>рк╕ркВркмркВркз</label><input type="text" name="rel_relation" data-bind="prev_rel_relation"></div>
                        <div class="form-group"><label>ркорлЛркмрк╛ркЗрк▓ ркиркВркмрк░</label><input type="text" name="rel_mobile" data-bind="prev_rel_mobile"></div>
                        <div class="form-group full-width"><label>рк╕рк░ркирк╛ркорлБркВ</label><input type="text" name="rel_address" data-bind="prev_rel_address"></div>
                    </div>
                </fieldset>

                <fieldset>
                    <legend>B. рккрлЛрк▓рлАрк╕ ркЕркирлЗ ркХрлЗрк╕ркирлА ркорк╛рк╣рк┐ркдрлА</legend>
                    
                    <h4>Jurisdiction</h4>
                    <div class="input-grid">
                        <div class="form-group"><label>рккрлЛрк▓рлАрк╕ рк╕рлНркЯрлЗрк╢ркиркирлБркВ ркирк╛рко</label><input type="text" name="case_ps" data-bind="prev_ps"></div>
                        <div class="form-group"><label>ркЬрлАрк▓рлНрк▓рлЛ</label><input list="dist_list_3" name="case_district" class="district-search" data-target-taluka="case_taluka_select" data-bind="prev_case_dist"><datalist id="dist_list_3"></datalist></div>
                        <div class="form-group"><label>ркдрк╛рк▓рлБркХрлЛ</label><select id="case_taluka_select" name="case_taluka" data-bind="prev_case_taluka"><option value="">ркЬрлАрк▓рлНрк▓рлЛ рккрк╕ркВркж ркХрк░рлЛ</option></select></div>
                    </div>

                    <h4>Case Identification</h4>
                    <div class="input-grid">
                        <div class="form-group"><label>ркЧрлБркирлНрк╣рк╛ рк░ркЬрлА. ркиркВркмрк░</label><input type="text" name="crime_no" data-bind="prev_cr_no"></div>
                        <div class="form-group"><label>ркЧрлБркирлНрк╣рк╛ рккрлНрк░ркХрк╛рк░ (I / II / III)</label><input type="text" name="crime_type" data-bind="prev_cr_type"></div>
                        <div class="form-group"><label>рк╡рк░рлНрк╖</label><input type="text" name="crime_year" data-bind="prev_cr_year"></div>
                    </div>

                    <h4>Offence (ркЧрлБркирлНрк╣рлЛ)</h4>
                    <div class="input-grid">
                        <div class="form-group full-width"><label>ркЧрлБркирлНрк╣рлЛ / ркдрк╣рлЛркоркд</label><input type="text" name="offence_desc" data-bind="prev_off_desc"></div>
                        
                        

                        <div class="form-group"><label>ркЧрлБркирлНрк╣рк╛ркирлБркВ рк╕рлНркерк│</label><input type="text" name="offence_place" data-bind="prev_off_place"></div>
                        <div class="form-group"><label>ркЧрлБркирлНрк╣рлЛ ркеркпрк╛ркирлА ркдрк╛рк░рлАркЦ</label><input type="date" name="offence_date" data-bind="prev_off_date"></div>
                        <div class="form-group"><label>ркЧрлБркирлНрк╣рлЛ ркеркпрк╛ркирлЛ рк╕ркоркп</label><input type="time" name="offence_time" data-bind="prev_off_time"></div>
                    </div>

                    <h4>Arrest (ркЕркЯркХрк╛ркпркд)</h4>
                    <div class="input-grid">
                        <div class="form-group"><label>ркЕркЯркХрк╛ркпркд ркеркпрлЗрк▓ ркЫрлЗ?</label><select name="is_arrested" data-bind="prev_is_arrested"><option>рк╣рк╛</option><option>ркирк╛</option></select></div>
                        <div class="form-group"><label>ркЕркЯркХрк╛ркпркд ркдрк╛рк░рлАркЦ</label><input type="date" name="arrest_date" data-bind="prev_arr_date"></div>
                        <div class="form-group"><label>ркЕркЯркХрк╛ркпркд рк╕ркоркп</label><input type="time" name="arrest_time" data-bind="prev_arr_time"></div>
                        <div class="form-group"><label>ркЕркЯркХрк╛ркпркд рк╕рлНркерк│</label><input type="text" name="arrest_place" data-bind="prev_arr_place"></div>
                        <div class="form-group"><label>рк╕рлНркЯрлЗрк╢рки ркбрк╛ркпрк░рлА ркПркирлНркЯрлНрк░рлА ркиркВ.</label><input type="text" name="arrest_entry_no" data-bind="prev_arr_entry"></div>
                    </div>

                    <h4>Bail / Release (ркЬрк╛ркорлАрки)</h4>
                    <div class="input-grid">
                        <div class="form-group"><label>ркЬрк╛ркорлАрки ркЙрккрк░ ркЫрлЗ?</label><select name="is_bailed" data-bind="prev_is_bailed"><option>ркирк╛</option><option>рк╣рк╛</option></select></div>
                        <div class="form-group"><label>ркЬрк╛ркорлАрки ркЖрккркирк╛рк░ рк╕ркдрлНркдрк╛</label><input type="text" name="bail_authority" data-bind="prev_bail_auth"></div>
                        <div class="form-group"><label>ркЬрк╛ркорлАрки ркдрк╛рк░рлАркЦ</label><input type="date" name="bail_date" data-bind="prev_bail_date"></div>
                        <div class="form-group"><label>ркЬрк╛ркорлАрки рк╕ркоркп</label><input type="time" name="bail_time" data-bind="prev_bail_time"></div>
                        <div class="form-group full-width"><label>ркЬрк╛ркорлАрки рк╢рк░ркдрлЛ</label><input type="text" name="bail_conditions" data-bind="prev_bail_cond"></div>
                    </div>

                    <h4>Case Status</h4>
                    <div class="input-grid">
                        <div class="form-group"><label>ркЧрлБркирлН6рк╣рлЛ рк╕рк╛ркмрлАркд ркеркпрлЛ ркХрлЗ ркирк╛ рк╕рк╛ркмрлАркд ркеркпрлЛ ркХрлЗ ркЫрлЛркбрлА ркорлБркХркпрк╛</label>
                            <select name="crime_status" data-bind="prev_crime_status">
                                <option value="-">-</option>
                                <option value="рк╕рк╛ркмрлАркд ркеркпрлЛ">рк╕рк╛ркмрлАркд ркеркпрлЛ</option>
                                <option value="ркирк╛рк╕рк╛ркмрлАркд ркеркпрлЛ">ркирк╛рк╕рк╛ркмрлАркд ркеркпрлЛ</option>
                                <option value="ркЫрлЛркбрлА ркорлБркХрлНркпрк╛">ркЫрлЛркбрлА ркорлБркХрлНркпрк╛</option>
                            </select>
                        </div>
                        <div class="form-group"><label>ркЧрлБркирлНрк╣рлЛ рк╕рк╛ркмрк┐ркд ркеркпрлЛ?</label><input type="text" name="status_proven" data-bind="prev_status_proven"></div>
                        <div class="form-group"><label>ркЪрк╛рк░рлНркЬрк╢рлАркЯ ркжрк╛ркЦрк▓ ркЫрлЗ?</label><input type="text" name="status_chargesheet" data-bind="prev_status_sheet"></div>
                        <div class="form-group"><label>ркХрлЗрк╕ ркЪрк╛рк▓рлБ / ркмркВркз</label><select name="status_case" data-bind="prev_status_case"><option>ркЪрк╛рк▓рлБ</option><option>ркмркВркз</option></select></div>
                        <div class="form-group"><label>ркорлБркХрлНркдрк┐ ркдрк╛рк░рлАркЦ</label><input type="date" name="status_release_date" data-bind="prev_status_rel_date"></div>
                    </div>

                    <h4>Intimation Record (ркЬрк╛ркг)</h4>
                    <div class="input-grid">
                        <div class="form-group"><label>ркЬрк╛ркг ркХрк░рк╡рк╛ркирлА рк░рлАркд</label><input type="text" name="intimation_method" data-bind="prev_int_method"></div>
                        <div class="form-group"><label>ркЬрк╛ркг ркдрк╛рк░рлАркЦ</label><input type="date" name="intimation_date" data-bind="prev_int_date"></div>
                        <div class="form-group"><label>ркЬрк╛ркг рк╕ркоркп</label><input type="time" name="intimation_time" data-bind="prev_int_time"></div>
                        <div class="form-group"><label>ркбрк╛ркпрк░рлА ркПркирлНркЯрлНрк░рлА ркиркВ.</label><input type="text" name="intimation_entry_no" data-bind="prev_int_entry"></div>
                        <div class="form-group"><label>ркПркирлНркЯрлНрк░рлА рк╕ркоркп</label><input type="time" name="intimation_entry_time" data-bind="prev_int_entry_time"></div>
                    </div>

                    <h4>Remarks & Officer</h4>
                    <div class="input-grid">
                        <div class="form-group full-width"><label>рк╢рлЗрк░рлЛ / ркирлЛркВркз</label><textarea name="remarks" rows="2" data-bind="prev_remarks"></textarea></div>
                        <div class="form-group"><label>ркЕркорк▓ркжрк╛рк░ркирлБркВ ркирк╛рко</label><input type="text" name="io_name" data-bind="prev_io"></div>
                        <div class="form-group"><label>рк╣рлЛркжрлНркжрлЛ</label><input type="text" name="io_designation" data-bind="prev_io_desig"></div>
                        <div class="form-group"><label>ркмркХрк▓ ркиркВркмрк░</label><input type="text" name="io_buckle" data-bind="prev_io_buckle"></div>
                        <div class="form-group"><label>рккрлЛрк▓рлАрк╕ рк╕рлНркЯрлЗрк╢рки</label><input type="text" name="io_ps" data-bind="prev_io_ps"></div>
                    </div>

                    <h4>Authentication</h4>
                    <div class="input-grid">
                        <div class="form-group"><label>ркжрк╕рлНркдрк╛рк╡рлЗркЬ ркдрк╛рк░рлАркЦ</label><input type="date" name="auth_date" data-bind="prev_auth_date"></div>
                        <div class="form-group"><label>рк╕рлНркерк│</label><input type="text" name="auth_place" data-bind="prev_auth_place"></div>
                        <div class="form-group"><label>ркЕркзрк┐ркХрк╛рк░рлАркирлБркВ ркирк╛рко (рккрлНрк░рк┐ркирлНркЯ)</label><input type="text" name="auth_print_name" data-bind="prev_auth_print"></div>
                    </div>

                </fieldset>

                <div class="action-area">
                     <div class="form-group full-width highlight-box">
                            <label>рк▓рк╛ркЧрлБ ркХрк▓рко / ркзрк╛рк░рлЛ (Select Section for Docs)</label>
                            <select id="sectionSelector" name="offence_section" data-bind="prev_section">
                                <option value="general">рк╕рк╛ркорк╛ркирлНркп (General IPC)</option>
                                <option value="kalam_281">BNS ркХрк▓рко рлирлорлз </option>
                                <option value="prohibition">рккрлНрк░рлЛрк╣рлАркмрлАрк╢рки (Prohibition Act)</option>
                                <option value="gambling">ркЬрлБркЧрк╛рк░ ркзрк╛рк░рлЛ (Gambling Act)</option>
                                <option value="mv_act">MV Act (рк╡рк╛рк╣рки ркЕркХрк╕рлНркорк╛ркд)</option>
                                <option value="arms_act">Arms Act (рк╣ркерк┐ркпрк╛рк░ ркзрк╛рк░рлЛ)</option>
                            </select>
                        </div>
                    <button type="button" id="btnSave" class="btn-primary">SAVE DETAILS (ркорк╛рк╣рк┐ркдрлА рк╕рлЗрк╡ ркХрк░рлЛ)</button>
                    <button type="reset" class="btn-secondary">RESET</button>
                </div>
            </form>

            <section class="doc-templates">
                <div class="doc-header">
                    <h3>ркЙрккрк▓ркмрлНркз ркжрк╕рлНркдрк╛рк╡рлЗркЬрлЛ (Available Documents)</h3>
                    <p class="doc-hint">ркХрк▓рко ркорлБркЬркм ркжрк╕рлНркдрк╛рк╡рлЗркЬрлЛ ркмркжрк▓рк╛рк╢рлЗ (Documents change based on Section)</p>
                </div>
                <div id="documentGrid" class="card-grid">
                    </div>
            </section>
        </section>

        <aside class="preview-panel">
            <div class="preview-header">
                <h2>Live Preview</h2>
                <span class="badge">Draft View</span>
            </div>
            <div class="paper">
                <div class="paper-header">
                    <img src="https://upload.wikimedia.org/wikipedia/commons/5/55/Emblem_of_India.svg" alt="Emblem" class="emblem">
                    <h3>рккрлЛрк▓рлАрк╕ рк╕рлНркЯрлЗрк╢рки: <span id="prev_ps">...</span></h3>
                    <p>ркЧрлБркирлНрк╣рк╛ рк░ркЬрлА. ркиркВ: <span id="prev_cr_no">...</span> / <span id="prev_cr_type"></span> / <span id="prev_cr_year"></span></p>
                </div>
                
                <table class="preview-table">
                    <tr><td colspan="2" class="section-title">A. ркЖрк░рлЛрккрлАркирлА рк╡рк┐ркЧркд</td></tr>
                    <tr><td class="lbl">ркирк╛рко:</td><td><span id="prev_name"></span> <span id="prev_father"></span> <span id="prev_surname"></span> (<span id="prev_alias"></span>)</td></tr>
                    <tr><td class="lbl">ркЬрк╛ркдрк┐ / ркЙркВркорк░ / DOB:</td><td><span id="prev_gender"></span> / <span id="prev_age"></span> рк╡рк░рлНрк╖ / <span id="prev_dob"></span></td></tr>
                    <tr><td class="lbl">ркзрк░рлНрко / ркЬрк╛ркдрк┐:</td><td><span id="prev_religion"></span> / <span id="prev_caste"></span> (<span id="prev_subcaste"></span>)</td></tr>
                    <tr><td class="lbl">рк░рк╛рк╖рлНркЯрлНрк░рлАркпркдрк╛ / рк╕рлНркерк┐ркдрк┐:</td><td><span id="prev_nationality"></span> / <span id="prev_marital"></span></td></tr>
                    
                    <tr><td colspan="2" class="section-title">рк╡рлНркпрк╡рк╕рк╛ркп</td></tr>
                    <tr><td class="lbl">ркзркВркзрлЛ / рк╕рлНркерк│:</td><td><span id="prev_occ_type"></span> / <span id="prev_occ_place"></span></td></tr>
                    <tr><td class="lbl">ркЖрк╡ркХ:</td><td><span id="prev_occ_income"></span></td></tr>

                    <tr><td colspan="2" class="section-title">рк░рк╣рлЗркарк╛ркг</td></tr>
                    <tr><td class="lbl">ркХрк╛ркпркорлА рк╕рк░ркирк╛ркорлБркВ:</td><td><span id="prev_perm_house"></span>, <span id="prev_perm_area"></span>, <span id="prev_perm_village"></span>, ркдрк╛.<span id="prev_perm_taluka"></span>, ркЬрлА.<span id="prev_perm_dist"></span> - <span id="prev_perm_pin"></span></td></tr>
                    <tr><td class="lbl">рк╣рк╛рк▓ркирлБркВ рк╕рк░ркирк╛ркорлБркВ:</td><td><span id="prev_curr_address"></span>, <span id="prev_curr_city"></span>, ркдрк╛.<span id="prev_curr_taluka"></span>, ркЬрлА.<span id="prev_curr_dist"></span></td></tr>

                    <tr><td colspan="2" class="section-title">рк╕ркВрккрк░рлНркХ ркЕркирлЗ ркУрк│ркЦ</td></tr>
                    <tr><td class="lbl">ркорлЛркмрк╛ркЗрк▓:</td><td><span id="prev_mobile_1"></span> / <span id="prev_mobile_2"></span></td></tr>
                    <tr><td class="lbl">ркУрк│ркЦ рккркдрлНрк░:</td><td><span id="prev_id_type"></span>: <span id="prev_id_number"></span></td></tr>

                    <tr><td colspan="2" class="section-title">рк╢рк╛рк░рлАрк░рк┐ркХ рк╡рк░рлНркгрки</td></tr>
                    <tr><td class="lbl">ркЙркВркЪрк╛ркИ / ркмрк╛ркВркзрлЛ:</td><td><span id="prev_phy_height"></span> cm / <span id="prev_phy_build"></span></td></tr>
                    <tr><td class="lbl">рк░ркВркЧ (ркдрлНрк╡ркЪрк╛/ркЖркВркЦ/рк╡рк╛рк│):</td><td><span id="prev_phy_comp"></span> / <span id="prev_phy_eyes"></span> / <span id="prev_phy_hair"></span></td></tr>
                    <tr><td class="lbl">ркирк┐рк╢рк╛ркирлАркУ:</td><td>1. <span id="prev_mark_1"></span><br>2. <span id="prev_mark_2"></span></td></tr>
                    <tr><td class="lbl">ркЕркирлНркп:</td><td><span id="prev_old_wounds"></span> / <span id="prev_other_marks"></span></td></tr>

                    <tr><td colspan="2" class="section-title">рк╕ркЧрк╛-рк╕ркмркВркзрлА</td></tr>
                    <tr><td class="lbl">ркирк╛рко / рк╕ркВркмркВркз:</td><td><span id="prev_rel_name"></span> (<span id="prev_rel_relation"></span>)</td></tr>
                    <tr><td class="lbl">рк╕ркВрккрк░рлНркХ:</td><td><span id="prev_rel_mobile"></span> - <span id="prev_rel_address"></span></td></tr>

                    <tr><td colspan="2" class="section-title">B. ркХрлЗрк╕ рк╡рк┐ркЧркд</td></tr>
                    <tr><td class="lbl">рккрлЛрк▓рлАрк╕ рк╕рлНркЯрлЗрк╢рки:</td><td><span id="prev_case_ps"></span> (ркЬрлА.<span id="prev_case_dist"></span>)</td></tr>
                    <tr><td class="lbl">ркЧрлБркирлНрк╣рлЛ:</td><td><span id="prev_off_desc"></span></td></tr>
                    <tr><td class="lbl">ркХрк▓рко:</td><td id="prev_section"></td></tr>
                    <tr><td class="lbl">рк╕рлНркерк│ / рк╕ркоркп:</td><td><span id="prev_off_place"></span> (@ <span id="prev_off_date"></span> <span id="prev_off_time"></span>)</td></tr>

                    <tr><td colspan="2" class="section-title">ркЕркЯркХрк╛ркпркд ркЕркирлЗ ркЬрк╛ркорлАрки</td></tr>
                    <tr><td class="lbl">ркЕркЯркХрк╛ркпркд?:</td><td><span id="prev_is_arrested"></span> (@ <span id="prev_arr_date"></span> <span id="prev_arr_time"></span>)</td></tr>
                    <tr><td class="lbl">рк╕рлНркерк│ / ркПркирлНркЯрлНрк░рлА:</td><td><span id="prev_arr_place"></span> (Entry: <span id="prev_arr_entry"></span>)</td></tr>
                    <tr><td class="lbl">ркЬрк╛ркорлАрки?:</td><td><span id="prev_is_bailed"></span> (<span id="prev_bail_auth"></span>)</td></tr>
                    <tr><td class="lbl">ркЬрк╛ркорлАрки рк╡рк┐ркЧркд:</td><td><span id="prev_bail_date"></span> <span id="prev_bail_time"></span> - <span id="prev_bail_cond"></span></td></tr>

                    <tr><td colspan="2" class="section-title">ркХрлЗрк╕ рк╕рлНркЯрлЗркЯрлНрк╕ ркЕркирлЗ ркЬрк╛ркг</td></tr>
                    <tr><td class="lbl">рк╕рлНркЯрлЗркЯрлНрк╕:</td><td><span id="prev_status_case"></span> (Chargesheet: <span id="prev_status_sheet"></span>)</td></tr>
                    <tr><td class="lbl">ркЬрк╛ркг рк╡рк┐ркЧркд:</td><td><span id="prev_int_method"></span> (@ <span id="prev_int_date"></span> <span id="prev_int_time"></span>)</td></tr>

                    <tr><td colspan="2" class="section-title">ркирлЛркВркз ркЕркирлЗ ркЕркзрк┐ркХрк╛рк░рлА</td></tr>
                    <tr><td class="lbl">рк╢рлЗрк░рлЛ:</td><td id="prev_remarks"></td></tr>
                    <tr><td class="lbl">ркдрккрк╛рк╕ ркЕркзрк┐ркХрк╛рк░рлА:</td><td><span id="prev_io"></span> (<span id="prev_io_desig"></span>, <span id="prev_io_buckle"></span>)</td></tr>
                    <tr><td class="lbl">PS:</td><td id="prev_io_ps"></td></tr>
                </table>
                <div class="paper-footer">
                    <p>рк╕рк╣рлА: __________________ (<span id="prev_auth_print"></span>)</p>
                    <p>ркдрк╛рк░рлАркЦ: <span id="prev_auth_date"></span>, рк╕рлНркерк│: <span id="prev_auth_place"></span></p>
                </div>
            </div>
        </aside>

    </main>
 <script src="gujarat-district-taluka-gu.js"></script>
<script>/* =========================================
   1. DATA SOURCES
   ========================================= */

// USER PROVIDED DATA STRUCTURE
    const gujaratData = gujaratTalukas;
// MAPPING: SECTIONS -> DOCUMENTS
const DOCUMENT_MAP = {
    'general': [
        { name: 'Arrest Memo', gu: 'ркЕркЯркХрк╛ркпркд ркорлЗркорлЛ', icon: 'ЁЯСо', file: 'arrest_memo.html' },
        { name: 'Bail Bond', gu: 'ркЬрк╛ркорлАрки ркЦркд', icon: 'тЪЦя╕П', file: 'bail_bond.html' },
        { name: 'Physical Sheet', gu: 'ркЪрк╣рлЗрк░рк╛ркзркирк╢рк╛рки рккркдрлНрк░ркХ', icon: 'ЁЯУЭ', file: 'facial_sheet.html' },
        { name: 'Rights of Arrested', gu: 'ркЕркзрк┐ркХрк╛рк░рлЛркирлА ркЬрк╛ркг', icon: 'ЁЯУв', file: 'rights.html' }
    ],
    'kalam_281': [
        { name: 'Facial expression sheet', gu: 'ркЪрк╣рлЗрк░рк╛ркирк┐рк╢рк╛рки рккркдрлНрк░ркХ', icon: 'ЁЯСо', file: 'nishan-genertator.html' },
        { name: 'Detention Memo', gu: 'ркЕркЯркХрк╛ркпркд ркорлЗркорлЛ', icon: 'ЁЯУД', file: 'atkayat_memo.html' }
    ],
    'prohibition': [
        { name: 'Arrest Memo', gu: 'ркЕркЯркХрк╛ркпркд ркорлЗркорлЛ', icon: 'ЁЯСо', file: 'arrest_memo.html' },
        { name: 'Blood Sample Yadi', gu: 'рк▓рлЛрк╣рлАркирк╛ ркиркорлБркирк╛ркирлА ркпрк╛ркжрлА', icon: 'ЁЯй╕', file: 'blood_sample.html' },
        { name: 'Muddamal Pavti', gu: 'ркорлБркжрлНркжрк╛ркорк╛рк▓ рккрк╛рк╡ркдрлА', icon: 'ЁЯН╛', file: 'muddamal.html' },
        { name: 'Prohibition Form A', gu: 'рккрлНрк░рлЛрк╣рлАркмрлАрк╢рки рклрлЛрк░рлНрко A', icon: 'ЁЯУД', file: 'prohibition_form_a.html' }
    ],
    'gambling': [
        { name: 'Arrest Memo', gu: 'ркЕркЯркХрк╛ркпркд ркорлЗркорлЛ', icon: 'ЁЯСо', file: 'arrest_memo.html' },
        { name: 'Seizure Memo', gu: 'ркЬрккрлНркдрлА рккркВркЪркирк╛ркорлБркВ', icon: 'ЁЯГП', file: 'seizure_memo.html' },
        { name: 'Cash Seizure', gu: 'рк░рлЛркХркб ркЬрккрлНркдрлА ркпрк╛ркжрлА', icon: 'ЁЯТ╡', file: 'cash_seizure.html' }
    ],
    'mv_act': [
        { name: 'Arrest Memo', gu: 'ркЕркЯркХрк╛ркпркд ркорлЗркорлЛ', icon: 'ЁЯСо', file: 'arrest_memo.html' },
        { name: 'Vehicle Seizure', gu: 'рк╡рк╛рк╣рки ркЬрккрлНркдрлА рккркВркЪркирк╛ркорлБркВ', icon: 'ЁЯЪЧ', file: 'vehicle_seizure.html' },
        { name: 'Accident Report', gu: 'ркЕркХрк╕рлНркорк╛ркд ркЕрк╣рлЗрк╡рк╛рк▓', icon: 'ЁЯТе', file: 'accident_report.html' }
    ],
    'arms_act': [
        { name: 'Arrest Memo', gu: 'ркЕркЯркХрк╛ркпркд ркорлЗркорлЛ', icon: 'ЁЯСо', file: 'arrest_memo.html' },
        { name: 'Weapon Seizure', gu: 'рк╣ркерк┐ркпрк╛рк░ ркЬрккрлНркдрлА', icon: 'ЁЯФл', file: 'weapon_seizure.html' },
        { name: 'FSL Yadi', gu: 'FSL ркорлЛркХрк▓рк╡рк╛ ркпрк╛ркжрлА', icon: 'ЁЯФм', file: 'fsl_yadi.html' }
    ]
};

/* =========================================
   2. INITIALIZATION
   ========================================= */
document.addEventListener('DOMContentLoaded', () => {
    initDistrictLogic();
    initSectionLogic();
    initLivePreview();
    initSave();
});

/* =========================================
   3. DYNAMIC DISTRICT & TALUKA
   ========================================= */
function initDistrictLogic() {
    // We have 3 pairs of District/Taluka inputs in the form
    // 1. Permanent Address, 2. Current Address, 3. Case Jurisdiction
    
    // We select all inputs with class 'district-search'
    const districtInputs = document.querySelectorAll('.district-search');

    // Populate all Datalists first
    districtInputs.forEach(input => {
        const listId = input.getAttribute('list');
        const dataList = document.getElementById(listId);
        
        gujaratTalukas.districts.forEach(d => {
            let option = document.createElement('option');
            option.value = d.district;
            option.label = `${d.name_en} (${d.district})`;
            dataList.appendChild(option);
        });

        // Add Event Listener for Input
        input.addEventListener('input', (e) => {
            const val = e.target.value.toLowerCase();
            const targetSelectId = input.getAttribute('data-target-taluka');
            const targetSelect = document.getElementById(targetSelectId);

            // Find matching district
            const matched = gujaratTalukas.districts.find(d => 
                d.district === val || d.name_en.toLowerCase() === val
            );

            if (matched) {
                // Auto-correct to Gujarati if English typed
                if (input.value !== matched.district) input.value = matched.district;
                
                // Populate Talukas
                populateTalukas(matched.talukas, targetSelect);
            } else {
                targetSelect.innerHTML = '<option value="">ркЬрлАрк▓рлНрк▓рлЛ рккрк╕ркВркж ркХрк░рлЛ</option>';
            }
        });
    });
}

function populateTalukas(list, selectEl) {
    selectEl.innerHTML = '<option value="">ркдрк╛рк▓рлБркХрлЛ рккрк╕ркВркж ркХрк░рлЛ</option>';
    list.forEach(t => {
        let opt = document.createElement('option');
        opt.value = t;
        opt.innerText = t;
        selectEl.appendChild(opt);
    });
}

/* =========================================
   4. SECTION -> DOCUMENT LOGIC
   ========================================= */
function initSectionLogic() {
    const sectionSelect = document.getElementById('sectionSelector');
    
    // Initial Load
    renderDocuments(sectionSelect.value);

    // On Change
    sectionSelect.addEventListener('change', (e) => {
        renderDocuments(e.target.value);
    });
}

function renderDocuments(sectionKey) {
    const grid = document.getElementById('documentGrid');
    grid.innerHTML = ''; // Clear existing

    // Get list based on section or default to general
    const docs = DOCUMENT_MAP[sectionKey] || DOCUMENT_MAP['general'];

    docs.forEach(doc => {
        const card = document.createElement('a');
        card.className = 'doc-card';
        card.href = doc.file; // Using real file link
        
        card.innerHTML = `
            <span class="icon">${doc.icon}</span>
            <b>${doc.gu}</b>
            <small>${doc.name}</small>
        `;
        grid.appendChild(card);
    });
}

/* =========================================
   5. PREVIEW & SAVE
   ========================================= */
function initLivePreview() {
    const form = document.getElementById('policeForm');
    form.addEventListener('input', updatePreview);
    form.addEventListener('change', updatePreview);
}

function updatePreview(e) {
    // Only update if element has data-bind attribute
    if (e.target.dataset.bind) {
        const targetId = e.target.dataset.bind;
        const el = document.getElementById(targetId);
        if (el) el.innerText = e.target.value || '---';
    }
}

function initSave() {
    document.getElementById('btnSave').addEventListener('click', () => {
        const formData = new FormData(document.getElementById('policeForm'));
        const data = {};

        // Capture all named fields (inputs, selects, textareas) to ensure every value is stored
        const allFields = document.querySelectorAll('#policeForm input[name], #policeForm select[name], #policeForm textarea[name]');
        allFields.forEach(el => {
            const key = el.name;
            const val = formData.has(key) ? formData.get(key) : el.value || '';
            data[key] = val;
        });

        // Add manually handled fields if needed (datalists sometimes tricky)
        // Here FormData usually catches them fine.

        localStorage.setItem('policeFormData', JSON.stringify(data));
        
        const status = document.getElementById('saveStatus');
        status.innerText = "SAVED тЬФ";
        status.style.background = "#138808";
        
        alert("ркбрлЗркЯрк╛ рк╕рклрк│ркдрк╛рккрлВрк░рлНрк╡ркХ рк╕рк╛ркЪрк╡рлНркпрлЛ ркЫрлЗ (Data Saved Successfully). Now click a document below.");
    });
}</script>
</body>
</html>